<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 3 Workbook: The Balance of Opposites</title>
    <style>
        :root {
            --primary-color: #6C8CD5;
            --primary-dark: #4A6CC7;
            --primary-light: #8CA8E6;
        }
        
        body {
            background: linear-gradient(135deg, #0A1931 0%, #1A1F3D 100%);
            color: #E6D3A7;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
        }
        
        .workbook-container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(30, 35, 60, 0.95);
            padding: 40px;
            border-radius: 20px;
            border: 3px solid var(--primary-color);
        }
        
        .harmony-wheel {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: conic-gradient(
                rgba(108, 140, 213, 0.3) 0deg 60deg,
                rgba(140, 168, 230, 0.3) 60deg 120deg,
                rgba(74, 108, 199, 0.3) 120deg 180deg,
                rgba(108, 140, 213, 0.5) 180deg 240deg,
                rgba(140, 168, 230, 0.5) 240deg 300deg,
                rgba(74, 108, 199, 0.5) 300deg 360deg
            );
            margin: 30px auto;
            position: relative;
            animation: spin 20s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .declaration {
            background: rgba(108, 140, 213, 0.1);
            padding: 25px;
            border-radius: 10px;
            margin: 25px 0;
            border-left: 5px solid var(--primary-color);
        }
        
        .exercise {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .harmony-scale {
            display: flex;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
        }
        
        .scale-point {
            flex: 1;
            text-align: center;
            padding: 15px;
            background: rgba(108, 140, 213, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(108, 140, 213, 0.2);
        }
        
        .btn {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 15px 30px;
            border-radius: 8px;
            text-decoration: none;
            display: inline-block;
            margin: 10px;
            border: none;
            cursor: pointer;
            font-weight: bold;
        }
        
        textarea, input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(108, 140, 213, 0.3);
            color: inherit;
            border-radius: 5px;
            font-family: inherit;
        }
    </style>
</head>
<body>
    <div class="workbook-container">
        <div style="text-align:center;">
            <h1 style="color:var(--primary-color);">The Balance of Opposites</h1>
            <p style="color:var(--primary-light);">Week 3: Harmony-Keeper's Gateway</p>
            <div class="harmony-wheel"></div>
        </div>
        
        <!-- Day 1: Declaration 13 -->
        <div class="declaration">
            <h3 style="color:var(--primary-color);">üåÄ Declaration 13: "I have not caused chaos"</h3>
            <p><em>I create structure where there is confusion</em></p>
        </div>
        
        <div class="exercise">
            <h4>Exercise 3.1: Chaos to Order Assessment</h4>
            <p><strong>Step 1:</strong> Identify 3 areas of chaos in your life:</p>
            <textarea placeholder="1. 2. 3." rows="3"></textarea>
            
            <p><strong>Step 2:</strong> For each, what small action brings order?</p>
            <textarea placeholder="Your plan for order..." rows="3"></textarea>
            
            <p><strong>Step 3:</strong> Implement one order-bringing action today:</p>
            <input type="text" placeholder="Today's order action">
        </div>
        
        <!-- Day 2: Declaration 14 -->
        <div class="declaration">
            <h3 style="color:var(--primary-color);">üåä Declaration 14: "I have not disrupted natural flow"</h3>
            <p><em>I move with life's currents, not against them</em></p>
        </div>
        
        <div class="exercise">
            <h4>Exercise 3.2: Flow Assessment</h4>
            <div class="harmony-scale">
                <div class="scale-point">
                    <h5>Where I Flow</h5>
                    <textarea placeholder="Activities that feel effortless..." rows="3"></textarea>
                </div>
                <div class="scale-point">
                    <h5>Where I Force</h5>
                    <textarea placeholder="Activities that feel forced..." rows="3"></textarea>
                </div>
            </div>
            
            <p><strong>Daily Practice:</strong> Choose one "forcing" activity to approach with flow today:</p>
            <input type="text" placeholder="Today's flow practice">
        </div>
        
        <!-- Day 3: Declaration 15 -->
        <div class="declaration">
            <h3 style="color:var(--primary-color);">‚öñÔ∏è Declaration 15: "I have not been immoderate"</h3>
            <p><em>I find the middle way between all extremes</em></p>
        </div>
        
        <div class="exercise">
            <h4>Exercise 3.3: The Middle Way Practice</h4>
            <p><strong>Identify extremes in your life:</strong></p>
            <table style="width:100%; margin:20px 0;">
                <tr>
                    <th style="text-align:left; padding:10px;">Area</th>
                    <th style="text-align:left; padding:10px;">Extreme 1</th>
                    <th style="text-align:left; padding:10px;">Extreme 2</th>
                    <th style="text-align:left; padding:10px;">Middle Way</th>
                </tr>
                <tr>
                    <td style="padding:10px;">Work/Rest</td>
                    <td style="padding:10px;"><input type="text" placeholder="Overworking" style="width:100%;"></td>
                    <td style="padding:10px;"><input type="text" placeholder="Laziness" style="width:100%;"></td>
                    <td style="padding:10px;"><input type="text" placeholder="Balanced rhythm" style="width:100%;"></td>
                </tr>
                <tr>
                    <td style="padding:10px;">Social/Solitude</td>
                    <td style="padding:10px;"><input type="text" placeholder="Always social" style="width:100%;"></td>
                    <td style="padding:10px;"><input type="text" placeholder="Always alone" style="width:100%;"></td>
                    <td style="padding:10px;"><input type="text" placeholder="Healthy balance" style="width:100%;"></td>
                </tr>
            </table>
        </div>
        
        <!-- Harmony Tracker -->
        <div class="exercise" style="background:rgba(108,140,213,0.1);">
            <h4>üìä Weekly Harmony Tracker</h4>
            <p>Rate your harmony levels (1-10) each day:</p>
            <table style="width:100%; border-collapse:collapse;">
                <thead>
                    <tr style="background:rgba(108,140,213,0.2)">
                        <th style="padding:10px;">Day</th>
                        <th style="padding:10px;">Internal Harmony</th>
                        <th style="padding:10px;">Relational Harmony</th>
                        <th style="padding:10px;">Environmental Harmony</th>
                        <th style="padding:10px;">Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td style="padding:10px;">Mon</td>
                        <td style="padding:10px;"><input type="number" min="1" max="10" style="width:60px;"></td>
                        <td style="padding:10px;"><input type="number" min="1" max="10" style="width:60px;"></td>
                        <td style="padding:10px;"><input type="number" min="1" max="10" style="width:60px;"></td>
                        <td style="padding:10px;"><input type="text" style="width:100%;"></td></tr>
                    <tr><td style="padding:10px;">Tue</td>
                        <td style="padding:10px;"><input type="number" min="1" max="10" style="width:60px;"></td>
                        <td style="padding:10px;"><input type="number" min="1" max="10" style="width:60px;"></td>
                        <td style="padding:10px;"><input type="number" min="1" max="10" style="width:60px;"></td>
                        <td style="padding:10px;"><input type="text" style="width:100%;"></td></tr>
                </tbody>
            </table>
        </div>
        
        <!-- Harmony Ceremony -->
        <div class="exercise" style="background:rgba(108,140,213,0.15); border:2px solid var(--primary-color);">
            <h4>üåÄ Day 7: The Harmony Ritual</h4>
            <p><strong>Step 1:</strong> Create a harmonious space (clean, orderly, peaceful)</p>
            <p><strong>Step 2:</strong> Light blue candle. Play gentle music if desired</p>
            <p><strong>Step 3:</strong> Speak aloud: "I am harmony. I create peace. I balance all things."</p>
            <p><strong>Step 4:</strong> Read Harmony Declarations 13-18 with feeling</p>
            <p><strong>Step 5:</strong> Chant "Om" or hum for 7 minutes</p>
            
            <p><strong>Ritual Reflection:</strong></p>
            <textarea placeholder="How did you feel during the ritual? What shifted?" rows="4"></textarea>
        </div>
        
        <!-- Download Section -->
        <div style="text-align:center; padding:40px; margin:40px 0; background:rgba(108,140,213,0.1); border-radius:15px;">
            <h3>üìö Download Week 3 Resources</h3>
            <button class="btn" onclick="generatePDF(3)">üì• Download Complete PDF</button>
            <button class="btn" onclick="window.print()">üñ®Ô∏è Print Workbook</button>
            <a href="harmony-exercises.pdf" class="btn" download>üìÑ Printable Exercises</a>
            <a href="../week4/index.html" class="btn">‚û°Ô∏è Continue to Week 4</a>
            
            <div style="margin-top:30px;">
                <h4>üéß Harmony Meditations</h4>
                <button class="btn" style="background:linear-gradient(135deg, #9B59B6 0%, #8E44AD 100%);">Inner Peace Meditation (15 min)</button>
                <button class="btn" style="background:linear-gradient(135deg, #9B59B6 0%, #8E44AD 100%);">Balance Visualization (10 min)</button>
                <button class="btn" style="background:linear-gradient(135deg, #9B59B6 0%, #8E44AD 100%);">Conflict Resolution Guide</button>
            </div>
        </div>
    </div>

    <script>
        function generatePDF(week) {
            // Collect all data for PDF
            const data = [];
            document.querySelectorAll('textarea, input[type="text"], input[type="number"]').forEach(el => {
                if (el.value) data.push(el.value);
            });
            
            // Create downloadable content
            const content = `Week ${week} Harmony Workbook\n${'='.repeat(40)}\n\nExercises Completed:\n${data.join('\n\n')}\n\nHarmony Mantra: "I am harmony. I create peace. I balance all things."`;
            
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `Week${week}_Harmony_Workbook.txt`;
            a.click();
            
            alert('Harmony Workbook saved! For full PDF, use jsPDF library.');
        }
        
        // Auto-save
        document.querySelectorAll('textarea, input').forEach((el, index) => {
            el.addEventListener('input', () => {
                localStorage.setItem(`harmony_${index}`, el.value);
            });
            const saved = localStorage.getItem(`harmony_${index}`);
            if (saved) el.value = saved;
        });
    </script>
</body>
</html>
